---
title: Sharing credential information with GOV.UK Wallet bluetooth session
weight: 2
last_reviewed_on: 2026-02-04
review_in: 6 months
---

# Sharing credential information with GOV.UK Wallet  bluetooth session

GOV.UK Wallet allows your verification process to receive credential information, when a user agrees to share it.  Credential information is shared over a Bluetooth Low Energy (BLE) connection, using the Generic Attribute Profile (GATT) protocol.

To retrieve credential information from GOV.UK Wallet, you must have this capability. More details of the in-person sharing flow are [available](./#understand-gov-uk-wallet-s-in-person-sharing-flow).

## Connect to a credential holder's device

When sharing credential details, GOV.UK Wallet will make the holder's device discoverable for you to connect.  This is known as taking the Peripheral (server) role.  GOV.UK Wallet sets this role when you first [read the holder's QR code](qr-code.html).  You must take the Central (client) role, and request to connect to the holder's device.  

## Sending and receiving messages via Bluetooth

When a holder's device takes the peripheral role, GOV.UK Wallet will create an [ISO 18013-5](https://www.iso.org/obp/ui/en/#iso:std:iso-iec:18013:-5:ed-1:v1:en) standard GATT service.  You must take the central role.

In the central role, you will be able to send messages to:

- indicate that you are ready to begin the sharing flow
- request credential information for your verification process

In the peripheral role, GOV.UK Wallet will:

- send response messages to your verification device

The maximum length of a message is 512 bytes.  Any messages larger than this, for example images, must be divided into parts.

### Send a session establishment message

When the connection is ready, you will be able to send a message to request encrypted credential information from GOV.UK Wallet.  This should be in the form of a Concise Binary Object Representation (CBOR), containing:

- your data request, encrypted with a symmetric Curve P-256 key
- ephemeral public key for the session

Your public key must:

- use Curve P-256 for ECDH/ECDSA.  This will also be used for secure session encryption
- only be used for a single presentation session
- only be stored in temporary memory and not persisted

### Securing your sharing session

During session establishment, the peripheral and central device's will create a shared record known as a session transcript.  This is used when generating a unique key for the sharing session, which helps to prevent a sharing session from being altered or reused. 

A session transcript will be created using:

- the base64 URL encoded CBOR, [shared in the device engagement QR code](qr-code.html#qr-code-url) 
- your public key

The session transcript will only exist for the lifetime of the sharing session.  If GOV.UK Wallet cannot verify the transcript, the sharing session will be terminated.  Your verification process should behave in the same way.

### Cancelling a sharing session

A sharing session can be canceled by the central, or peripheral device. GOV.UK Wallet will watch for a session cancellation message, and immediately cancel the session if one is received. 

Your verification process must do the same.

## GOV.UK Wallet device response message

When you send your [credential information request](device-request.html#send-a-session-establishment-message), GOV.UK Wallet will ask the user for consent to share their credential information.  If the user agrees, GOV.UK Wallet will share requested data in the form of a signed digital document.  

Response messages will be encrypted Concise Binary Object Representation's (CBOR), of an [ISO/IEC 18013-5](https://www.iso.org/obp/ui/en/#iso:std:iso-iec:18013:-5:ed-1:v1:en) standard `DeviceResponse` structure.

### Understand the structure of a signed digital document

Documents shared in GOV.UK Wallet's `DeviceResponse` structure will contain the:

- standardised identifier for the credential document type, for example `"org.iso.18013.5.1.mDL"`
- document `namespaces` containing [credential attributes](/consuming-and-verifying-credentials/credentials-in-wallet), signed by the credential issuer
- details verifying that the device is authorised to hold the credential

GOV.UK Wallet will only share credentials signed by the issue, for example an mDL signed by DVLA.  You will not be able to request any device signed items in your verification process.

## Handling device request errors

If you encounter an error during the device request, you should send a message to GOV.UK Wallet to cancel the session.  

GOV.UK Wallet will expect one of the following status codes:

| Status code | Description                                            | 
|-------------|--------------------------------------------------------| 
| 10          | There was an error encrypting the device request.      | 
| 11          | There was an error decoding the GOV.UK Wallet QR code. | 
| 20          | Non-specific error or session termination.             |****