---
title: Understanding how verification apps connect to GOV.UK Wallet
weight: 3
last_reviewed_on: 2026-01-26
review_in: 6 months
---

# Establishing a connection to GOV.UK Wallet [review page heading]

GOV.UK Wallet will allow users to share information from credentials stored on their device with your verification app.  You will be able to programmatically confirm information about users, without revealing unnecessary personal details. Before you begin to verify a credential, you must establish a connection between the device holding the credential and your verification app. This is known as device engagement.

To establish a connection successfully your verification app must:

- be able to read an [ISO/IEC 18004](LINKLINKLINK) standard [QR code](#qr-code)
- be bluetooth enabled
- use a `Curve P-256` elliptic curve key for ECDH/ECDSA [check if we need to expand this]

More details of the in-person sharing flow are [available](./#understand-gov-uk-wallet-s-in-person-sharing-flow).

## Understanding device engagement using GOV.UK Wallet QR code

GOV.UK Wallet will use a QR code to begin device engagement, in line with [ISO/IEC 18013-5](LINKEYLINK). The use of QR codes is well established, and available across a wide range of devices. GOV.UK Wallet will not use other device engagement technologies.  

When prompted by a user to share a credential, GOV.UK Wallet will generate a QR code that complies to the [ISO/IEC 18004](LINKLINKLINK) standard.  The QR code will contain

### Device engagement structure

When you read a QR code generated by GOV.UK Wallet, the URL you receive will be in the format `mdoc:<DEVICE_ENGAGEMENT_STRUCTURE>`.

The `<DEVICE_ENGAGEMENT_STRUCTURE>` is the base64 URL encoded CBOR `DeviceEngagement` structure.

GOV.UK Wallet's QR code will be generated as the base64 URL Encoded CBOR `DeviceEngagement` structure, prefixed with 'mdoc'.  This is an example of the full URL: [in the format of mdoc:{base}]

```
mdoc:owBjMS4wAYIB2BhYS6QgAQECIVgg_35k8YsDUueJExqcPh8UHXaWbJDq5EX4Y5sflISm3ogiWCA8_LpuqlBD3CNI3PIev_rImaLIchXJbEy3D07Zus_pOwKBgwIBowD1AfQKUBEREREiIjMzRERVVVVVVVU
```


DeviceEngagement
├── 0 : Version                  ; hardcoded to "1.0"
├── 1 : Security
│   ├── int: Cipher Suite ID      ; hardcoded to 1
│   └── EDeviceKeyBytes : #6.24(bstr .cbor EDeviceKey)
├── ? 2 : [DeviceRetrievalMethod]+
│   └── DeviceRetrievalMethod
│       ├── uint: Type             ; we will only support type 2 (BLE)
│       ├── uint: Version          ; hardcoded to 1
│       └── RetrievalOptions       ; hardcoded to 1
│           ├── 0 : bool            ; support for mdoc peripheral mode   (true)
│           ├── 1 : bool            ; support for mdoc client mode       (false)
│           ├── ? 10 : bstr         ; uuid for mdoc peripheral mode      (random uuid)
│           ├── ? 11 : bstr         ; uuid for mdoc client mode          (not provided)
│           ├── ? 20 : bstr         ; address for mdoc peripheral mode   (not provided)
│           └── ? 21 : uint         ; L2CAP PSM for mdoc peripheral mode (not provided)
├── ? 5 : OriginInfos            ; we will NOT provide this (new in v1.1)
├── ? 6 : Capabilities           ; we will NOT provide this (new in v1.1)
├── * uint : RFU,                ; we will NOT provide this (new in v1.1)
└── * nint : Ext                 ; we will NOT provide this (new in v1.1)

- device engagement information [Like what??]
- GOV.UK Wallets public key [ephemeral public key doesn't sound like plain english]

> QR code that contains device engagement information and the app’s ephemeral public key.


## Bluetooth data retrieval
