---
title: GOV.UK Wallet device response message
weight: 3
last_reviewed_on: 2026-02-05
review_in: 6 months
---

# Receive credential information from a GOV.UK Wallet holder's device

When you [established your sharing session](bluetooth-service.html#send-a-session-establishment-message), GOV.UK Wallet will ask the user for consent to share their credential information.  If the user agrees, GOV.UK Wallet will send an encrypted `DeviceResponse` message through your secure session in the form of an encrypted Concise Binary Object Representation (CBOR).

The GOV.UK Wallet `DeviceResponse` structure will contain:

| Element     | Description                                                     | Data type     | 
|-------------|-----------------------------------------------------------------|---------------|
| `version`   | The version of the `DeviceResponse` structure.  Set to `"1.0"`. | `str`         |
| `documents` | An array containing [signed digital documents]().               | `[Document]+` |

## Understand the elements in a DeviceResponse structure

Documents shared in GOV.UK Wallet's `DeviceResponse` structure will contain:

| Element        | Description                                                                               | Data type                                              | 
|----------------|-------------------------------------------------------------------------------------------|--------------------------------------------------------|
| `docType`      | The standardised identifier for the document type.                                        | `DocType`                                              |
| `issuerSigned` | A CBOR map containing mDoc [`nameSpaces` and  `IssuerAuth`](#example-issuer-signed-cbor). | `{<br/>nameSpaces: {str, arr},<br/> issuerAuth: arr }` |
| `deviceSigned` | A CBOR map containing the [`deviceSignature`](LINKLINK).                                  | `{<br/>nameSpaces: {str, arr},<br/> issuerAuth: arr }` |
| `errors`       | An optional CBOR map containing `namespace` identifiers and error codes.                  | `errors: {tstr, unit}`                                 |

This is an example `DeviceResponse` CBOR, for an mDL `docType`:

```
DeviceResponse
├── version : tstr
├── ? documents : [Document]+
│   └── Document
│       ├── docType : "org.iso.18013.5.1.mDL"
│       ├── issuerSigned
│       │   ├── {NAMESPACES}
│       │   └── issuerAuth : {ISSUER_AUTH}
│       └── ? errors
│           └── {ERRORS}
```

### Example issuerSigned CBOR

The `issuerSigned` structure contains `nameSpaces`, taken from the credential stored in the GOV.UK Wallet.  These are set by the [credential issuer](LINKLINK), represent the fields present on the physical document.  

You can use the `elementItendifier` and `elementValue` in each `NameSpace` in your verification process.  

`IssuerAuth` is a `COSE_Sign1` object, containing cryptographic information used when verifying each `NameSpace`.

This is an example `issuerSigned` CBOR, containing an mDL `age_over_25` element:

```
├── issuerSigned
│       │   ├── ? nameSpaces : NameSpace => [IssuerSignedItemBytes]+
│       │   │   └── IssuerSignedItemBytes = #6.24(bstr .cbor IssuerSignedItem)
│       │   │       └── "org.iso.18013.5.1"
│       │   │           ├── digestID : 0
│       │   │           ├── random : h'8798645B20EA200E19FFABAC92624BEE6AEC63
│       │   │           ├── elementIdentifier : age_over_25
│       │   │           └── elementValue : false
│       │   └── issuerAuth : [
                    ; COSE_Sign1 - copied from initial mdoc issuance
                ]
```

More details of [credentials available in GOV.UK Wallet](LINKLINK) are available.

### Example deviceSigned CBOR

To verify ownership of the document being shared, the `deviceSigned` structure contains a `deviceAuth` CBOR map.  This holds `deviceSignature`, which is signed with private key that matches the public key present in the Mobile Security Object (MSO). 

GOV.UK Wallet's `deviceSigned` structure also contains an empty `nampeSpaces` array.  GOV.UK Wallet will only share [issuer signed credentials](#example-issuersigned-cbor).

This is an example `deviceSigned` CBOR:

```
├── deviceSigned
│       │   ├── nameSpaces : DeviceNameSpacesBytes => [Device] # Empty CBOR map
│       │   └── deviceAuth
│       │       ├── deviceSignature : DeviceSignature
```

## Example DeviceResponse CBOR diagnostic

The example below shows a GOV.UK Wallet mDL `DeviceResponse`.  In this example the holder has consented to share their:

- family name
- confirmation of age over 18


```
{
    "version": "1.0",
    "documents": [
        {
            "docType": "org.iso.18013.5.1.mDL",
            "issuerSigned": {
                "nameSpaces": {
                    "org.iso.18013.5.1" : [
                        24(<<
                            {
                             "digestID": 0 
                             "random": h'8798....'
                             "elementIdentifier": "family_name"
                             "elementValue": "Johnson"
                            }
                        >>),
                        24(<<
                            {
                             "digestID": 0 
                             "random": h'87986....'
                             "elementIdentifier": "age_over_18"
                             "elementValue": "true"
                            }
                        >>)
                    ],
                }
                "issuerAuth": [
                    COSE_Sign1(....
                ]
            },
            "deviceSigned": {
                "nameSpaces": [ ], 
                "deviceAuth": {
                    "deviceSignature": [
                        COSE_Sign1(....
                    ]
                }
            }
        }
    ],
    "status": 0
}
```