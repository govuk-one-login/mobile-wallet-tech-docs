---
title: GOV.UK Wallet Bluetooth service requirements
weight: 2
last_reviewed_on: 2026-02-04
review_in: 6 months
---

# Request credential information from a GOV.UK Wallet holder's device

GOV.UK Wallet allows your verification process to receive credential information, when a user agrees to share it.  Credential information is shared over a Bluetooth Low Energy (BLE) connection, using the Generic Attribute Profile (GATT) protocol.

To retrieve credential information from GOV.UK Wallet, you must have this capability. More details of the in-person sharing flow are [available](./#understand-gov-uk-wallet-s-in-person-sharing-flow).

## Connect to a credential holder's device

When sharing credential details, GOV.UK Wallet will make the holder's device discoverable for you to connect.  This is known as taking the Peripheral (server) role.  GOV.UK Wallet sets this role when you first [read the holder's QR code](qr-code.html).  You must take the Central (client) role, and request to connect to the holder's device.  

### Sending and receiving messages via Bluetooth

When a holder's device takes the peripheral role, GOV.UK Wallet will create an [ISO 18013-5](https://www.iso.org/obp/ui/en/#iso:std:iso-iec:18013:-5:ed-1:v1:en) standard GATT service.  You must take the central role.

In the central role, you will be able to send messages to:

- indicate that you are ready to begin the sharing flow
- request credential information for your verification process

In the peripheral role, GOV.UK Wallet will:

- send response messages to your verification device

The maximum length of a message is 512 bytes.  Any messages larger than this, for example images, must be divided into parts.

## Send a session establishment message

When the connection is ready, you will be able to send a message to request encrypted credential information from GOV.UK Wallet.  This should be in the form of a Concise Binary Object Representation (CBOR), containing:

- your data request, encrypted with a symmetric Curve P-256 key
- ephemeral public key for the session

Your public key must:

- use Curve P-256 for ECDH/ECDSA.  This will also be used for secure session encryption
- only be used for a single presentation session
- only be stored in temporary memory and not persisted

## Securing your sharing session

During session establishment, the peripheral and central device's will create a shared record known as a session transcript.  This is used when generating a unique key for the sharing session, which helps to prevent a sharing session from being altered or reused. 

A session transcript will be created using:

- the base64 URL encoded CBOR, [shared in the device engagement QR code](qr-code.html#qr-code-url) 
- your public key

The session transcript will only exist for the lifetime of the sharing session.  If GOV.UK Wallet cannot verify the transcript, the sharing session will be terminated.  Your verification process should behave in the same way.

## Cancelling a sharing session

A sharing session can be canceled by the central, or peripheral device. GOV.UK Wallet will watch for a session cancellation message, and immediately cancel the session if one is received. 

Your verification process must do the same.

## Handling device request errors

If you encounter an error during the device request, you should send a message to GOV.UK Wallet to cancel the session.  

GOV.UK Wallet will expect one of the following status codes:

| Status code | Description                                            | 
|-------------|--------------------------------------------------------| 
| 10          | There was an error encrypting the device request.      | 
| 11          | There was an error decoding the GOV.UK Wallet QR code. | 
| 20          | Non-specific error or session termination.             |