---
title: Refresh credentials
weight: 9
last_reviewed_on: 2025-12-16
review_in: 6 months
---

# Refresh credentials

Digital credentials in GOV.UK Wallet have a technical expiry date, which is when the digital version of a user's credential is no longer valid and must be updated. You can set this technical expiry date using the [`validUntil` claim](/issue-a-credential/credential/#payload) in the credential. There is [more guidance on credential expiration](/issue-a-credential/credential/#guidance-on-credential-expiration).

When a credential passes its `validUntil` date, it will fail programmatic verification and must be rejected by anyone who verifies it. The user will see their expired credential marked as 'Invalid' and greyed out in the app. 

GOV.UK Wallet lets your users get a new credential without going through the longer credential issuance journey they used the first time it was issued. This is the manual credential refresh journey.

## Update credential issuer metadata

When you issue a credential you must include a [`validUntil` date](../issue-a-credential/credential/#payload).  Once a credential passes this date, GOV.UK Wallet will prompt the user to refresh their credential. GOV.UK Wallet lets your users manually refresh their credential using the mandatory `credential_refresh_web_journey_url` included in your [credential metadata](../issue-a-credential/metadata/#credential-information).  

Your metadata also contains the `credential_validity_period_max_days` parameter.  GOV.UK Wallet will display the value of `credential_validity_period_max_days` on the refresh page so that users know how often they need to refresh their document.  There is guidance on the [credential validity period](#guidance-on-credential-validity-period).

When your user taps the 'Refresh' button in the app, it will take the user to your specified URL to start their credential refresh web journey in their browser. At the end of this journey you must provide a new credential offer that GOV.UK Wallet can use to request a new credential. 

You must get the information about the user's existing credential from their user record. GOV.UK Wallet does not share any details about the user when they start your manual refresh journey.

If GOV.UK Wallet adds the new credential successfully, the user will only see the new credential in their documents. GOV.UK Wallet will remove the old credential.

### Guidance on credential validity period

The value of `credential_validity_period_max_days` specifies the credential's validity period in days once it's issued. If the credential's `validUntil` date or `expiryDate` ends before your specified validity period, then the credential will expire earlier. 

For example, if you set `credential_validity_period_max_days` to 90 days but the credential's `expiryDate` will pass in 30 days' time, then the credential will only be valid for 30 days.  There is further information about [`expiryDate` and `validUntil`](/issue-a-credential/credential/#guidance-on-credential-expiration) available.

Below is an example of the `credential_refresh_web_journey_url` and `credential_validity_period_max_days` parameters:

 ```
 "credential_refresh_web_journey_url": "https://example-credential-issuer.gov.uk/fishing-refresh",
 "credential_validity_period_max_days": 90
 
 ```

## Understand GOV.UK Wallet's manual credential refresh flow

This diagram shows the exchange between a government service (the 'credential issuer') and GOV.UK Wallet when the user refreshes a credential. This diagram, and the descriptions below it, are an explanation of each step in the process.

<div aria-hidden="true">
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
</script>

<html lang="en">
  <body>
    <pre class="mermaid">
  sequenceDiagram

  autonumber
  actor user
  participant ecri as Credential Issuer
  participant app as App

  note over ecri,app: On or near <br> credential expiry
  user->>app: Opens GOV.UK One Login App <br> and goes to the credential
  activate app
    app->>ecri: Gets credential issuer metadata <br>`/.well-known/openid-credential-issuer`
    activate ecri
    ecri-->>app: Returns credential issuer metadata
    deactivate ecri
    app->>app: Finds `credential_refresh_web_journey_url` in metadata
    app->>app: Validates `credential_refresh_web_journey_url`
  deactivate app
  user->>app: Clicks 'Refresh' button
  app->>user: Opens `credential_refresh_web_journey_url` in user's browser
  </pre>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    </script>
  </body>
</html>
</div>

1. Your user opens the app and finds the credential they need to refresh.

2. GOV.UK Wallet sends a GET request to your `/.well-known/openid-credential-issuer` endpoint to fetch your credential issuer metadata.

3. Your service returns its credential issuer metadata.

4. The app finds the [`credential_refresh_web_journey_url`](../issue-a-credential/metadata/#credential-information) value in the credential issuer metadata.

5. The app validates the `credential_refresh_web_journey_url`.

6. The user selects the 'Refresh' button in the app.

7. The app opens the issuer's `credential_refresh_web_journey_url` in a browser on the user's mobile device.

When the user's browser has loaded your `credential_refresh_web_journey_url`, your service should:

1. Authenticate the user with GOV.UK One Login.

2. Determine if the user's credential can be reissued.

3. Reissue the user's credential through [the credential issuance process](/issuing-credentials-to-wallet.html#user-authenticates-with-gov-uk-one-login-to-use-your-service).