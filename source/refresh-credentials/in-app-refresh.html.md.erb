---
title: Use in-app credential refresh
weight: 8
last_reviewed_on: 2026-01-20
review_in: 6 months
---

# Use in-app credential refresh

In-app refresh lets your user refresh their credential in the GOV.UK One Login app without returning to your service’s web journey. It does this by requesting a refresh token from GOV.UK One Login during the pre-authorised code exchange.

We recommend using automatic in-app refresh as your main refresh method, as it is faster and simpler for your users.

You should also use [manual credential refreshing](refresh-credentials/manual-refresh) as a backup in case in-app refresh fails.

## Update credential offer

For in-app refresh to work, you must add `credential_configuration_ids` to the [pre-authorised code JWT payload](../issue-a-credential/credential-offer/#the-pre-authorised-code) in your credential offer.

The value you set for `credential_configuration_ids` must be the same as the name given in the metadata.

## Validate new access token

When you have added `credential_configuration_ids` to your pre-authorised code JWT payload, GOV.UK Wallet will call your credential endpoint with a new access token and a refresh token. You should [validate the access token](../issue-a-credential/credential/#validate-the-payload-claims) and make sure that its `credential_configuration_ids` value matches the value in your pre-authorised code JWT payload.

When your user refreshes their expired credential in the GOV.UK One Login app, GOV.UK Wallet will exchange your refresh token for a new access token. This token is the same as the access token you got the first time, except that it does not contain `credential_identifiers`. You should validate this access token in the same way as the first access token, .

## Understand GOV.UK Wallet’s automatic in-app refresh flow

This diagram shows the exchange between a government service (the ‘credential issuer’) and GOV.UK Wallet when the user refreshes a credential with the in-app method. This diagram, and the descriptions below it, are an explanation of each step in the process.